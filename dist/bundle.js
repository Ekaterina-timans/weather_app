(()=>{"use strict";var e=document.querySelector(".weather__degrees-toggle"),t=e.querySelector(".weather__degrees-indicator"),r=e.querySelector(".celsius"),o=e.querySelector(".fahrenheit"),n=!0,a=null,c=null,i=null;e.addEventListener("click",(function(){n=!n,t.style.transform=n?"translateX(0)":"translateX(50px)",n?(r.classList.add("active"),o.classList.remove("active")):(o.classList.add("active"),r.classList.remove("active")),localStorage.setItem("isCelsius",n),i?m(null,null,i):a&&c&&m(a,c)}));var s=localStorage.getItem("isCelsius");null!==s&&(n=JSON.parse(s),t.style.transform=n?"translateX(0)":"translateX(50px)",n?(r.classList.add("active"),o.classList.remove("active")):(o.classList.add("active"),r.classList.remove("active")));var l=document.querySelector(".weather__geolocation-name"),d=document.querySelector(".weather__search-input"),u="debd6a992f8bd2e1ddfa30a8a390e078";function m(e,t,r){var o;if(e&&t)o="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(u,"&units=").concat(n?"metric":"imperial");else{if(!r)return void console.error("Error: Invalid parameters.");o="https://api.openweathermap.org/data/2.5/weather?q=".concat(r,"&appid=").concat(u,"&units=").concat(n?"metric":"imperial")}fetch(o).then((function(e){return e.json()})).then((function(o){if(200===o.cod){var a,c=o.weather[0],i=c.description,s=c.id,l=o.main,d=l.temp,m=l.feels_like,g=l.humidity,h=l.pressure,v=n?"째C":"째F",y=o.visibility/1e3,_=o.wind,w=_.speed,f=_.deg,S=_.gust;a=f,document.querySelector(".weather__compass-needle").style.transform="translate(-50%, -50%) rotate(".concat(a,"deg)");var p=function(e){return["North (N)","Northeast (NE)","East (E)","Southeast (SE)","South (S)","Southwest (SW)","West (W)","Northwest","North (N)"][Math.floor(e%360/45)]}(f);console.log(o.wind);var q=o.rain?o.rain["1h"]:0,L=o.sys,x=L.sunrise,C=L.sunset,b=new Date(1e3*x).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),E=new Date(1e3*C).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),k=(new Date).toLocaleString("en-US",{weekday:"long"}),M=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),D=document.querySelector(".weather__day-week"),X=document.querySelector(".weather__time"),I=document.querySelector(".weather__degress-item"),N=document.querySelector(".weather__navigation-name"),z=document.querySelector(".weather__geolocation-name"),T=document.querySelector(".weather__icon-item").querySelector("img"),A=document.querySelector(".weather__temp-indicator"),O=document.querySelector(".weather__humidity-indicator"),U=document.querySelector(".weather__rain-indicator"),W=document.querySelector(".weather__pressure-indicator"),j=document.querySelector(".weather__visibility-indicator"),F=document.querySelector(".weather__wind-indicator"),P=document.querySelector(".weather__gust-indicator"),G=document.querySelector(".weather__sunrise-time"),J=document.querySelector(".weather__sunset-time"),K=document.querySelector(".weather__description-today"),Y=document.querySelector(".weather__wind-value");D.textContent=k,X.textContent=M,I.textContent="".concat(Math.round(d)," ").concat(v),N.textContent="".concat(o.name,", ").concat(o.sys.country),z.textContent="".concat(o.name,", ").concat(o.sys.country),A.textContent="".concat(Math.round(m)," ").concat(v),O.textContent="".concat(g," %"),U.textContent="".concat(Math.round(q)," mm"),W.textContent="".concat(h," hpa"),j.textContent="".concat(Math.round(y)," km"),F.textContent=Math.round(w),P.textContent=Math.round(S),G.textContent=b,J.textContent=E,K.textContent=i,Y.textContent=p,s>=200&&s<=232?T.src="images/thunderstorm.svg":s>=300&&s<=321?T.src="images/drizzle.svg":s>=500&&s<=504&&B(M,E,b)?T.src="images/light-rain-night.svg":s>=500&&s<=504?T.src="images/light-rain.svg":s>=520&&s<=531?T.src="images/rain.svg":511===s||s>=613&&s<=622?T.src="images/freezing-rain.svg":s>=600&&s<=612?T.src="images/snow.svg":s>=701&&s<=762?T.src="images/fog.svg":s>=771&&s<=781?T.src="images/wind.svg":800===s&&B(M,E,b)?T.src="images/clearly-night.svg":800===s?T.src="images/clearly.svg":801===s&&B(M,E,b)?T.src="images/light-spotty-night.svg":801===s?T.src="images/little-spotty.svg":s>=802&&s<=804&&(T.src="images/cloudiness.svg"),function(e,t,r){var o;if(e&&t)o="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(u,"&units=").concat(n?"metric":"imperial");else{if(!r)return void console.error("Error: Invalid parameters.");o="https://api.openweathermap.org/data/2.5/forecast?q=".concat(r,"&appid=").concat(u,"&units=").concat(n?"metric":"imperial")}fetch(o).then((function(e){return e.json()})).then((function(e){if(200!=e.cod)return console.log(e.cod),void console.error("Error:",e.message);var t=e.list,r=n?"째C":"째F",o=document.querySelectorAll(".weather__forecast-card");[t[6],t[14],t[22],t[30],t[38]].forEach((function(e,t){var n,a=o[t],c=new Date(e.dt_txt).toLocaleDateString([],{day:"2-digit",month:"2-digit"}),i=new Date(e.dt_txt).toLocaleString("en-US",{weekday:"long"}),s=Math.floor(e.main.temp),l=e.weather[0].id;l>=200&&l<=232?n="images/thunderstorm.svg":l>=300&&l<=321?n="images/drizzle.svg":l>=500&&l<=504?n="images/light-rain.svg":l>=520&&l<=531?n="images/rain.svg":511===l||l>=613&&l<=622?n="images/freezing-rain.svg":l>=600&&l<=612?n="images/snow.svg":l>=701&&l<=762?n="images/fog.svg":l>=771&&l<=781?n="images/wind.svg":800===l?n="images/clearly.svg":801===l?n="images/little-spotty.svg":l>=802&&l<=804&&(n="images/cloudiness.svg"),a.querySelector(".weather__date").textContent=c,a.querySelector(".weather__week").textContent=i,a.querySelector(".weather__degress").textContent="".concat(s," ").concat(r),a.querySelector(".weather__icon img").src=n}))})).catch((function(e){console.error("Error:",e)}))}(e,t,r)}else console.error("Error:",o.message);function B(e,t,r){return t>r?e>=t||e<=r:e>=t&&e<=r}})).catch((function(e){console.error("Error:",e),l.textContent="Unable to determine location."}))}console.log("API_KEY:","debd6a992f8bd2e1ddfa30a8a390e078"),d.addEventListener("keyup",(function(e){"Enter"===e.key&&(i=d.value.trim())&&m(null,null,i)})),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){a=e.coords.latitude,c=e.coords.longitude,m(a,c)})):l.textContent="Geolocation is not supported by this browser.";var g=document.querySelector(".weather__search-input"),h=document.querySelector(".weather__close-btn");g.addEventListener("focus",(function(){h.classList.add("active")})),g.addEventListener("focusout",(function(){h.classList.remove("active"),g.value=""})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".weather__forecast-cards"),t=document.querySelectorAll(".weather__forecast-card"),r=document.querySelector(".weather__arrow-left"),o=document.querySelector(".weather__arrow-right"),n=!1,a=0,c=250*-(t.length-1);function i(){a<=c?o.classList.add("disabled"):o.classList.remove("disabled")}function s(){a>=0?r.classList.add("disabled"):r.classList.remove("disabled")}e.style.transform="translateX(".concat(a,"px)"),r.addEventListener("click",(function(){n||r.classList.contains("disabled")||(n=!0,a+=250,e.style.transform="translateX(".concat(a,"px)"),a>0&&(a=0,e.style.transform="translateX(".concat(a,"px)")),s(),i(),setTimeout((function(){n=!1}),300))})),o.addEventListener("click",(function(){n||o.classList.contains("disabled")||(n=!0,a-=250,e.style.transform="translateX(".concat(a,"px)"),a<c&&(a=c,e.style.transform="translateX(".concat(a,"px)")),s(),i(),setTimeout((function(){n=!1}),300))})),s(),i()})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".weather__checkbox");function t(){var t=document.querySelector(".weather__sun"),r=document.querySelector(".weather__moon");e.checked?(t.style.visibility="visible",r.style.visibility="hidden"):(t.style.visibility="hidden",r.style.visibility="visible")}"light"===localStorage.getItem("theme")&&(document.body.classList.add("lightstyle"),e.checked=!0),e.addEventListener("change",(function(){e.checked?(document.body.classList.add("lightstyle"),localStorage.setItem("theme","light")):(document.body.classList.remove("lightstyle"),localStorage.setItem("theme","dark")),t()})),t()}))})();