(()=>{"use strict";var e=document.querySelector(".weather__degrees-toggle"),t=e.querySelector(".weather__degrees-indicator"),r=e.querySelector(".celsius"),n=e.querySelector(".fahrenheit"),o=!0,a=null,c=null,i=null;e.addEventListener("click",(function(){o=!o,t.style.transform=o?"translateX(0)":"translateX(50px)",o?(r.classList.add("active"),n.classList.remove("active")):(n.classList.add("active"),r.classList.remove("active")),localStorage.setItem("isCelsius",o),i?m(null,null,i):a&&c&&m(a,c)}));var s=localStorage.getItem("isCelsius");null!==s&&(o=JSON.parse(s),t.style.transform=o?"translateX(0)":"translateX(50px)",o?(r.classList.add("active"),n.classList.remove("active")):(n.classList.add("active"),r.classList.remove("active")));var l=document.querySelector(".weather__geolocation-name"),d=document.querySelector(".weather__search-input"),u="debd6a992f8bd2e1ddfa30a8a390e078";function m(e,t,r){var n;if(e&&t)n="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(u,"&units=").concat(o?"metric":"imperial");else{if(!r)return void console.error("Error: Invalid parameters.");n="https://api.openweathermap.org/data/2.5/weather?q=".concat(r,"&appid=").concat(u,"&units=").concat(o?"metric":"imperial")}fetch(n).then((function(e){return e.json()})).then((function(n){if(200===n.cod){var a,c=n.weather[0],i=c.description,s=c.id,l=n.main,d=l.temp,m=l.feels_like,g=l.humidity,h=l.pressure,v=o?"째C":"째F",y=n.visibility/1e3,_=n.wind,w=_.speed,f=_.deg,S=_.gust;a=f,document.querySelector(".weather__compass-needle").style.transform="translate(-50%, -50%) rotate(".concat(a,"deg)");var p=function(e){return["North (N)","Northeast (NE)","East (E)","Southeast (SE)","South (S)","Southwest (SW)","West (W)","Northwest","North (N)"][Math.floor(e%360/45)]}(f);console.log(n.wind);var q=n.rain?n.rain["1h"]:0,L=n.sys,x=L.sunrise,C=L.sunset,b=new Date(1e3*x).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),E=new Date(1e3*C).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),k=(new Date).toLocaleString("en-US",{weekday:"long"}),M=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),D=document.querySelector(".weather__day-week"),X=document.querySelector(".weather__time"),N=document.querySelector(".weather__degress-item"),I=document.querySelector(".weather__navigation-name"),z=document.querySelector(".weather__geolocation-name"),T=document.querySelector(".weather__icon-item").querySelector("img"),O=document.querySelector(".weather__temp-indicator"),U=document.querySelector(".weather__humidity-indicator"),W=document.querySelector(".weather__rain-indicator"),j=document.querySelector(".weather__pressure-indicator"),A=document.querySelector(".weather__visibility-indicator"),F=document.querySelector(".weather__wind-indicator"),G=document.querySelector(".weather__gust-indicator"),J=document.querySelector(".weather__sunrise-time"),P=document.querySelector(".weather__sunset-time"),B=document.querySelector(".weather__description-today"),H=document.querySelector(".weather__wind-value");D.textContent=k,X.textContent=M,N.textContent="".concat(Math.round(d)," ").concat(v),I.textContent="".concat(n.name,", ").concat(n.sys.country),z.textContent="".concat(n.name,", ").concat(n.sys.country),O.textContent="".concat(Math.round(m)," ").concat(v),U.textContent="".concat(g," %"),W.textContent="".concat(Math.round(q)," mm"),j.textContent="".concat(h," hpa"),A.textContent="".concat(Math.round(y)," km"),F.textContent=Math.round(w),G.textContent=Math.round(S),J.textContent=b,P.textContent=E,B.textContent=i,H.textContent=p,s>=200&&s<=232?T.src="images/thunderstorm.svg":s>=300&&s<=321?T.src="images/drizzle.svg":s>=500&&s<=504&&K(M,E,b)?T.src="images/light-rain-night.svg":s>=500&&s<=504?T.src="images/light-rain.svg":s>=520&&s<=531?T.src="images/rain.svg":511===s||s>=613&&s<=622?T.src="images/freezing-rain.svg":s>=600&&s<=612?T.src="images/snow.svg":s>=701&&s<=762?T.src="images/fog.svg":s>=771&&s<=781?T.src="images/wind.svg":800===s&&K(M,E,b)?T.src="images/clearly-night.svg":800===s?T.src="images/clearly.svg":801===s&&K(M,E,b)?T.src="images/light-spotty-night.svg":801===s?T.src="images/little-spotty.svg":s>=802&&s<=804&&(T.src="images/cloudiness.svg"),function(e,t,r){var n;if(e&&t)n="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(u,"&units=").concat(o?"metric":"imperial");else{if(!r)return void console.error("Error: Invalid parameters.");n="https://api.openweathermap.org/data/2.5/forecast?q=".concat(r,"&appid=").concat(u,"&units=").concat(o?"metric":"imperial")}fetch(n).then((function(e){return e.json()})).then((function(e){if(200!=e.cod)return console.log(e.cod),void console.error("Error:",e.message);var t=e.list,r=o?"째C":"째F",n=document.querySelectorAll(".weather__forecast-card");[t[6],t[14],t[22],t[30],t[38]].forEach((function(e,t){var o,a=n[t],c=new Date(e.dt_txt).toLocaleDateString([],{day:"2-digit",month:"2-digit"}),i=new Date(e.dt_txt).toLocaleString("en-US",{weekday:"long"}),s=Math.floor(e.main.temp),l=e.weather[0].id;l>=200&&l<=232?o="images/thunderstorm.svg":l>=300&&l<=321?o="images/drizzle.svg":l>=500&&l<=504?o="images/light-rain.svg":l>=520&&l<=531?o="images/rain.svg":511===l||l>=613&&l<=622?o="images/freezing-rain.svg":l>=600&&l<=612?o="images/snow.svg":l>=701&&l<=762?o="images/fog.svg":l>=771&&l<=781?o="images/wind.svg":800===l?o="images/clearly.svg":801===l?o="images/little-spotty.svg":l>=802&&l<=804&&(o="images/cloudiness.svg"),a.querySelector(".weather__date").textContent=c,a.querySelector(".weather__week").textContent=i,a.querySelector(".weather__degress").textContent="".concat(s," ").concat(r),a.querySelector(".weather__icon img").src=o}))})).catch((function(e){console.error("Error:",e)}))}(e,t,r)}else console.error("Error:",n.message);function K(e,t,r){return t>r?e>=t||e<=r:e>=t&&e<=r}})).catch((function(e){console.error("Error:",e),l.textContent="Unable to determine location."}))}d.addEventListener("keyup",(function(e){"Enter"===e.key&&(i=d.value.trim())&&m(null,null,i)})),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){a=e.coords.latitude,c=e.coords.longitude,m(a,c)})):l.textContent="Geolocation is not supported by this browser.";var g=document.querySelector(".weather__search-input"),h=document.querySelector(".weather__close-btn");g.addEventListener("focus",(function(){h.classList.add("active")})),g.addEventListener("focusout",(function(){h.classList.remove("active"),g.value=""})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".weather__forecast-cards"),t=document.querySelectorAll(".weather__forecast-card"),r=document.querySelector(".weather__arrow-left"),n=document.querySelector(".weather__arrow-right"),o=!1,a=0,c=250*-(t.length-1);function i(){a<=c?n.classList.add("disabled"):n.classList.remove("disabled")}function s(){a>=0?r.classList.add("disabled"):r.classList.remove("disabled")}e.style.transform="translateX(".concat(a,"px)"),r.addEventListener("click",(function(){o||r.classList.contains("disabled")||(o=!0,a+=250,e.style.transform="translateX(".concat(a,"px)"),a>0&&(a=0,e.style.transform="translateX(".concat(a,"px)")),s(),i(),setTimeout((function(){o=!1}),300))})),n.addEventListener("click",(function(){o||n.classList.contains("disabled")||(o=!0,a-=250,e.style.transform="translateX(".concat(a,"px)"),a<c&&(a=c,e.style.transform="translateX(".concat(a,"px)")),s(),i(),setTimeout((function(){o=!1}),300))})),s(),i()})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".weather__checkbox");function t(){var t=document.querySelector(".weather__sun"),r=document.querySelector(".weather__moon");e.checked?(t.style.visibility="visible",r.style.visibility="hidden"):(t.style.visibility="hidden",r.style.visibility="visible")}"light"===localStorage.getItem("theme")&&(document.body.classList.add("lightstyle"),e.checked=!0),e.addEventListener("change",(function(){e.checked?(document.body.classList.add("lightstyle"),localStorage.setItem("theme","light")):(document.body.classList.remove("lightstyle"),localStorage.setItem("theme","dark")),t()})),t()}))})();